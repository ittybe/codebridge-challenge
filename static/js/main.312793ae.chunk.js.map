{"version":3,"sources":["api/itbookApi.js","components/BookSummary.js","components/App.js","components/Book.js","components/theme.js","index.js"],"names":["a","axios","get","res","data","result","i","books","length","book","getBookByISBN","isbn13","bookByISBN","push","console","log","error","q","authors","title","subtitle","year","pages","desc","price","image","url","useStyles","makeStyles","yearWrapper","display","alignItems","margin","marginBottom","lineHeight","linkWrapper","marginTop","content","gridTemplateRows","gap","fontSize","arrowIcon","marginLeft","verticalAlign","styled","Card","theme","borderRadius","boxShadow","overflow","maxWidth","BookSummary","props","findKeywords","autoEscape","caseSensitive","sanitize","searchWords","textToHighlight","chunks","match","undefined","forEach","word","re","RegExp","getRegexFromWord","exec","start","index","end","styles","className","sx","CardMedia","component","height","imageUrl","alt","CardContent","Typography","gutterBottom","variant","color","calendarIcon","highlightClassName","findChunks","searchQuery","split","Link","underline","href","App","state","booksSummaries","booksToDisplay","getListOfNewReleasedBooks","then","setState","catch","e","preventDefault","countOfMatches","str","words","this","filter","bookSummary","indexTitle","indexDesc","slice","sort","b","elem","target","value","bookIndex","find","action","onSubmit","handleSubmit","TextField","width","label","onChange","handleChange","getBookSummaries","map","React","Component","textAlign","arrowBackIcon","marginRight","moreInfoLinkWrapper","Book","useState","bookData","setBookData","params","useParams","useEffect","createTheme","palette","primary","main","typography","fontFamily","components","MuiLink","styleOverrides","root","textDecoration","fontWeight","MuiCard","MuiTypography","h3","ReactDOM","render","StrictMode","ThemeProvider","StyledEngineProvider","injectFirst","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.312793ae.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport async function getListOfNewReleasedBooks() {\r\n    // returns Array obj with books\r\n    const q = `https://api.itbook.store/1.0/new`;\r\n\r\n    try {\r\n        const res = await axios.get(q);\r\n        if (\"books\" in res.data) {\r\n            const result = []\r\n            for (let i = 0; i < res.data.books.length; i++) {\r\n                const book = res.data.books[i];\r\n                const bookByISBN = await getBookByISBN(book.isbn13)\r\n                if (bookByISBN) {\r\n                    result.push(bookByISBN)\r\n                }\r\n                else {\r\n                    console.log(`the book is not added ${book.isbn13} ${book}`)\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n    }\r\n}\r\n\r\nexport async function getBookByISBN(isbn13) {\r\n    const q = `https://api.itbook.store/1.0/books/${isbn13}`;\r\n    try {\r\n        const res = await axios.get(q);\r\n        if (res.data.error === \"0\") {\r\n            const { authors, title, subtitle, isbn13, year, pages, desc, price, image, url } = res.data;\r\n            return {\r\n                \"authors\": authors,\r\n                \"title\": title,\r\n                \"subtitle\": subtitle,\r\n                \"isbn13\": isbn13,\r\n                \"year\": year,\r\n                \"pages\": pages,\r\n                \"desc\": desc,\r\n                \"price\": price,\r\n                \"imageUrl\": image,\r\n                \"url\": url,\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error(error)\r\n    }\r\n}\r\n\r\nexport async function getBookFullDesc(isbn13) {\r\n    const stringToHtmlDom = (str) => {\r\n        var parser = new DOMParser();\r\n        var doc = parser.parseFromString(str, 'text/html');\r\n        return doc;\r\n    }\r\n    const q = `https://itbook.store/books/${isbn13}`\r\n    const descId = \"desc\"\r\n    try {\r\n        const res = await axios.get(q);\r\n        const dom = stringToHtmlDom(res.data);\r\n        const desc = dom.getElementById(descId);\r\n        return desc.textContent;\r\n    } catch (error) {\r\n        console.error(error)\r\n    }\r\n    \r\n}","import { Link as ReactRouterLink } from \"react-router-dom\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Link from \"@mui/material/Link\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CalendarTodayIcon from '@mui/icons-material/CalendarToday';\r\nimport { styled } from '@mui/material/styles';\r\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\r\nimport \"./BookSummary.css\"\r\n\r\nconst useStyles = makeStyles(({\r\n    yearWrapper: {\r\n        display: \"flex\",\r\n        alignItems: \"center\"\r\n    },\r\n    year: {\r\n        margin: \"3px\",\r\n        marginBottom: \"0px\",\r\n        lineHeight: \"1\",\r\n    },\r\n    linkWrapper: {\r\n        marginTop: \"auto\"\r\n    },\r\n    content: {\r\n        display: \"grid\",\r\n        gridTemplateRows: \"25px 80px 90px\",\r\n        gap: \"0px 0px\",\r\n    },\r\n    title: {\r\n        fontSize: \"1.2rem\",\r\n        lineHeight: 1.3\r\n    },\r\n    arrowIcon: {\r\n        marginLeft: \"5px\",\r\n        verticalAlign: \"middle\"\r\n    }\r\n}));\r\n\r\nconst BookSummaryCard = styled(Card)(({ theme }) => ({\r\n    borderRadius: 16,\r\n    boxShadow: '0 8px 16px 0 #BDC9D7',\r\n    overflow: 'hidden',\r\n    maxWidth: 300,\r\n}))\r\n\r\n// ({\r\n//     root: {\r\n//         borderRadius: 16,\r\n//         boxShadow: '0 8px 16px 0 #BDC9D7',\r\n//         overflow: 'hidden',\r\n//     },\r\n// })\r\nexport default function BookSummary(props) {\r\n    // props\r\n    // year\r\n    // desc\r\n    // title\r\n    // isbn\r\n    // searchQuery\r\n    // imageUrl\r\n    const findKeywords = ({\r\n        autoEscape,\r\n        caseSensitive,\r\n        sanitize,\r\n        searchWords,\r\n        textToHighlight\r\n    }) => {\r\n        const chunks = [];\r\n        if (searchWords.length > 0) {\r\n            const getRegexFromWord = (word) => {\r\n                const re = new RegExp(`\\\\b${word}\\\\b`, \"gi\");\r\n                return re;\r\n            }\r\n            var match = undefined;\r\n            searchWords.forEach(word => {\r\n                if (word !== \"\") {\r\n                    const re = getRegexFromWord(word)\r\n                    while ((match = re.exec(textToHighlight)) != null) {\r\n                        let start = match.index;\r\n                        let end = match.index + word.length;\r\n                        if (chunks.length > 0) {\r\n                            if (start - 1 === chunks[chunks.length - 1].end) {\r\n                                chunks[chunks.length - 1].end = end\r\n                            }\r\n                            else {\r\n                                chunks.push({\r\n                                    start, end\r\n                                })\r\n                            }\r\n                        }\r\n                        else {\r\n                            chunks.push({\r\n                                start, end\r\n                            })\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return chunks;\r\n    }\r\n    const styles = useStyles();\r\n    return (\r\n        <div className=\"book-summary\">\r\n            <Card className=\"book-summary-card\" sx={{ margin: \"0px auto\", maxWidth: \"300px\" }}>\r\n                <CardMedia\r\n                    component=\"img\"\r\n                    height=\"300\"\r\n                    image={props.imageUrl}\r\n                    alt={props.title + \" image\"}\r\n                />\r\n                <CardContent className={styles.content}>\r\n                    <Typography gutterBottom className={styles.yearWrapper} variant=\"body2\" color=\"text.secondary\" component=\"div\" >\r\n                        <CalendarTodayIcon fontSize=\"smaller\" className={styles.calendarIcon}></CalendarTodayIcon>\r\n                        <div className={styles.year}>\r\n                            {props.year}\r\n                        </div>\r\n                    </Typography>\r\n                    <Typography gutterBottom component=\"div\" variant=\"h3\">\r\n                        <Highlighter\r\n                            highlightClassName={\"highlight-text\"}\r\n                            findChunks={findKeywords}\r\n                            autoEscape={true}\r\n                            searchWords={props.searchQuery.split(\" \")}\r\n                            textToHighlight={props.title}></Highlighter>\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        <Highlighter\r\n                            highlightClassName={\"highlight-text\"}\r\n                            findChunks={findKeywords}\r\n                            autoEscape={true}\r\n                            searchWords={props.searchQuery.split(\" \")}\r\n                            textToHighlight={props.desc + \"...\"}></Highlighter>\r\n                    </Typography>\r\n                    <Typography>\r\n                        <Link underline=\"none\" href={`codebridge-challenge/books/${props.isbn13}`}>\r\n                            Read more\r\n                            <ArrowForwardIcon fontSize=\"smaller\" className={styles.arrowIcon}></ArrowForwardIcon>\r\n                        </Link>\r\n                    </Typography>\r\n                    {/* <ReactRouterLink to={`books/${props.isbn13}`} className=\"book-summary__link\">\r\n                        </ReactRouterLink> */}\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n        // <div className=\"book-summary\">\r\n        //     <Highlighter\r\n        //         highlightClassName={\"highlight-text\"}\r\n        //         findChunks={findKeywords}\r\n        //         autoEscape={true}\r\n        //         searchWords={props.searchQuery.split(\" \")}\r\n        //         textToHighlight={props.title}></Highlighter>\r\n        //     <div>{props.year}</div>\r\n        //     <Highlighter\r\n        //         highlightClassName={\"highlight-text\"}\r\n        //         findChunks={findKeywords}\r\n        //         autoEscape={true}\r\n        //         searchWords={props.searchQuery.split(\" \")}\r\n        //         textToHighlight={props.desc + \"...\"}></Highlighter>\r\n        //     <Link to={`books/${props.isbn13}`}>Read more</Link>\r\n        // </div>\r\n    )\r\n}","import './App.css';\nimport { getListOfNewReleasedBooks } from \"../api/itbookApi.js\"\nimport BookSummary from './BookSummary';\nimport React, { useState } from 'react';\nimport { TextField } from '@mui/material';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      booksSummaries: [],\n      booksToDisplay: undefined, // contains id and search matches index \n      searchQuery: \"\"\n    }\n  }\n  componentDidMount() {\n    getListOfNewReleasedBooks()\n      .then((res) => {\n        this.setState({ booksSummaries: res })\n        console.log(res)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n  handleSubmit(e) {\n    e.preventDefault();\n    const countOfMatches = (word, str) => {\n      const re = new RegExp(`\\\\b${word}\\\\b`, \"gi\");\n      return ((str || '').match(re) || []).length\n    }\n    // split search query by words\n    const q = this.state.searchQuery;\n    const words = q.split(\" \").filter((word) => word !== \"\");\n    let result = []\n    // go through books Summaries array\n    for (let i = 0; i < this.state.booksSummaries.length; i++) {\n      const bookSummary = this.state.booksSummaries[i];\n      let index = 0;\n      // check book summary title for having keywords (each keyword in title gives plus 2)\n      let indexTitle = 0;\n      words.forEach(word => {\n        indexTitle += countOfMatches(word, bookSummary.title)\n      });\n      // check book summary description for having keywords (each keyword in title gives plus 1)\n      let indexDesc = 0;\n      words.forEach(word => {\n        indexDesc += countOfMatches(word, bookSummary.desc.slice(0, 101))\n      });\n      // save search matches index with Id \n      index += indexDesc + (indexTitle * 2)\n      // after checking add [id, index] pair into state\n      result.push({\n        \"isbn13\": bookSummary.isbn13,\n        \"index\": index\n      })\n    }\n    // sort by index value \n    result.sort((a, b) => b.index - a.index)\n    result = result.filter((elem) => {\n      return elem.index > 0;\n    })\n    this.setState({\n      booksToDisplay: result\n    })\n  }\n  handleChange(e) {\n    this.setState({\n      searchQuery: e.target.value\n    })\n  }\n  getBookSummaries() {\n    if (this.state.booksToDisplay === undefined) {\n      return this.state.booksSummaries\n    }\n    else {\n      const result = []\n      const booksSummaries = this.state.booksSummaries;\n      this.state.booksToDisplay.forEach(bookIndex => {\n        const bookSummary = booksSummaries.find(elem => elem.isbn13 === bookIndex.isbn13)\n        result.push(bookSummary)\n      });\n      return result;\n    }\n  }\n  render() {\n    return (\n      <div className=\"app\">\n        <div className=\"app__search\">\n          <form action=\"\" onSubmit={(e) => this.handleSubmit(e)} className=\"app-form\">\n            <TextField className=\"app-form__text-field\" sx={{width: \"40%\", boxShadow: 'rgba(149, 157, 165, 0.2) 0px 8px 24px'}} label=\"search for keywords\" color=\"primary\" variant=\"outlined\" onChange={(e) => this.handleChange(e)} />\n          </form>\n        </div>\n        <div className=\"app__results-count\">\n          Results: {this.getBookSummaries().length}\n        </div>\n        <div className=\"app__books-summaries\">\n          {\n            this.getBookSummaries().map((book, i) => {\n              return <BookSummary\n                key={book.isbn13}\n                searchQuery={this.state.searchQuery}\n                title={book.title}\n                imageUrl={book.imageUrl}\n                year={book.year}\n                desc={book.desc.slice(0, 101)}\n                isbn13={book.isbn13} />\n            })\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { getBookByISBN, getBookFullDesc } from \"../api/itbookApi\";\r\nimport \"./Book.css\";\r\n\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Typography from '@mui/material/Typography';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport Link from \"@mui/material/Link\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(({\r\n    title: {\r\n        textAlign: \"center\", marginBottom: \"50px\"\r\n    },\r\n    arrowBackIcon: {\r\n        marginRight: \"5px\",\r\n        verticalAlign: \"middle\"\r\n    },\r\n    linkWrapper: {\r\n        margin: \"40px 0px 0px 40px\"\r\n    }, \r\n    moreInfoLinkWrapper: {\r\n        marginTop: \"30px\"\r\n    }\r\n}))\r\nfunction Book(props) {\r\n    const [bookData, setBookData] = useState({\r\n        \"authors\": \"\",\r\n        \"title\": \"\",\r\n        \"subtitle\": \"\",\r\n        \"isbn13\": \"\",\r\n        \"year\": \"\",\r\n        \"pages\": \"\",\r\n        \"desc\": \"\",\r\n        \"price\": \"\",\r\n        \"imageUrl\": \"\",\r\n        \"url\": \"\",\r\n    })\r\n    // const [bookFullDesc, setBookFullDesc] = useState(\"\")\r\n\r\n    const params = useParams()\r\n\r\n    useEffect(() => {\r\n        getBookByISBN(params.isbn13).then(\r\n            (res) => {\r\n                setBookData(res)\r\n            }\r\n        )\r\n        // getBookFullDesc(params.isbn13).then(\r\n        //     (res)=> {\r\n        //         setBookFullDesc(res)\r\n        //     }\r\n        // )\r\n    }, [])\r\n\r\n    const styles = useStyles();\r\n    return (\r\n        <div className=\"book-page\">\r\n            <div className=\"book-card-wrapper\">\r\n                <Card >\r\n                    <CardContent>\r\n                        <Typography gutterBottom component=\"div\" variant=\"h3\" className={styles.title}>{bookData.title}</Typography>\r\n                        <Typography variant=\"body2\">{bookData.desc}</Typography>\r\n                        <Typography variant=\"body2\" className={styles.moreInfoLinkWrapper}>\r\n                            <Link underline=\"none\" href={bookData.url} >\r\n                                More information\r\n                            </Link>\r\n                        </Typography>\r\n                    </CardContent>\r\n                </Card>\r\n                <Typography className={styles.linkWrapper}>\r\n                    <Link underline=\"none\" href={`/codebridge-challenge`} >\r\n                        <ArrowBackIcon fontSize=\"smaller\" className={styles.arrowBackIcon}></ArrowBackIcon>\r\n                        Back to homepage\r\n                    </Link>\r\n                </Typography>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Book;","import { createTheme } from '@mui/material/styles';\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: \"#000000\",\r\n        },\r\n    },\r\n    typography: {\r\n        fontFamily: 'Montserrat',\r\n    },\r\n    components: {\r\n        // Name of the component\r\n        MuiLink: {\r\n            styleOverrides: {\r\n                // Name of the slot\r\n                root: {\r\n                    // Some CSS\r\n                    textDecoration: \"none\",\r\n                    color: \"black\",\r\n                    fontWeight: \"700\",\r\n                    \"&:hover\": {\r\n                        color: \"gray\"\r\n                    }\r\n                },\r\n            },\r\n        },\r\n        MuiCard: {\r\n            styleOverrides: {\r\n                root: {\r\n                    borderRadius: 16,\r\n                    boxShadow: '0 8px 16px 0 #BDC9D7',\r\n                    overflow: 'hidden',\r\n                }\r\n            }\r\n        },\r\n        MuiTypography: {\r\n            styleOverrides: {\r\n                h3: {\r\n                    fontSize: \"1.2rem\",\r\n                    lineHeight: 1.3\r\n                }\r\n            }\r\n        }\r\n\r\n    },\r\n});\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport \"./variables.css\";\n\nimport App from './components/App';\nimport Book from \"./components/Book\";\nimport { StyledEngineProvider } from '@mui/material/styles';\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport theme from \"./components/theme\";\nimport { ThemeProvider } from '@mui/material/styles';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <StyledEngineProvider injectFirst>\n        <BrowserRouter>\n          <Routes>\n            <Route path=\"codebridge-challenge\" element={<App />} />\n            <Route path=\"codebridge-challenge/books/:isbn13\" element={<Book />} />\n          </Routes>\n        </BrowserRouter>\n      </StyledEngineProvider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}